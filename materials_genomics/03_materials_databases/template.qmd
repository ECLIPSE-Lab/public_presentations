---
title: |
  Materials Genomics<br>
  Lecture 3: Materials Databases & File Formats
bibliography: ref.bib
# csl: custom.csl
author:
  - name: Prof. Dr. Philipp Pelz
    affiliation: 
      - FAU Erlangen-Nürnberg
      - Institute of Micro- and Nanostructure Research
   
execute: 
  eval: true
  echo: true
format: 
    revealjs: 
        chalkboard: true
        mermaid:
            theme: forest
        # mermaid-format: png
        # scroll-view:
        #     activate: true
        #     snap: mandatory
        #     layout: full 
        width: 1920
        height: 1080
        menu:
            side: right
            width: wide 
        template-partials:
            - title-slide.html
        css: custom.css
        theme: custom.scss
        slide-number: c/t    
        logo: "eclipse_logo_small.png"          
        highlight-style: a11y
        incremental: true 
        background-transition: fade
        footer: "©Philipp Pelz - FAU Erlangen-Nürnberg - Materials Genomics"
---
 

## Welcome

### Week 3 — Materials Databases & File Formats

**Goals for Today:**

- Understand common structure file formats (CIF, POSCAR, PDB-like)  
- Learn how major databases store structural and thermodynamic data  
- Understand formation energy, stability, and energy above hull  
- Learn what the convex hull represents and why it matters  

---

## Outline

1. Why file formats matter  
2. CIF, POSCAR, and PDB-like formats  
3. How databases store structures  
4. Thermodynamic quantities  
5. Convex hulls and stability  
6. Summary  

---

## 1. Why File Formats Matter

All Materials Genomics workflows start with a structure file.

Structure files determine:

- How atomic positions are encoded  
- How symmetry can be retrieved  
- Whether coordinates are consistent  
- Whether ML descriptors can be computed correctly  

Incorrect metadata → incorrect symmetry → incorrect descriptors → unreliable ML.

---

## Structure Files as "Genomes"

The structure encodes:

- Lattice (unit cell)  
- Atomic species  
- Fractional coordinates  
- Optional symmetry metadata  

Different formats suit different communities:

- Experimental crystallography  
- Computational materials science  
- Biomolecular modeling  

---

## 2. CIF (Crystallographic Information File)

### Characteristics:

- Human-readable text format  
- Stores symmetry explicitly  
- Includes Wyckoff positions, space group, lattice, fractional coordinates  
- Can include uncertainties, occupancies, metadata  

### Strengths:

- Standard in crystallography  
- Rich metadata  
- Good for exchanging experimental structures  

### Limitations:

- Often contains partial occupancies or disorder  
- Requires cleaning before DFT or ML workflows  

---

## POSCAR (VASP Format)

### Characteristics:

- Minimal and strict format  
- Contains only:  
  - Scaling factor  
  - Lattice vectors  
  - Element list  
  - Atom counts  
  - Atomic positions  
- No symmetry information  

### Strengths:

- Clean, consistent, easy to parse  
- Ideal for ML descriptors  
- No ambiguity in metadata  

### Weaknesses:

- Lacks provenance and metadata  
- Atom order matters  
- Symmetry must be inferred  

---

## PDB and Related Formats

### Designed for:

- Biomolecules  
- Proteins and polymers  
- Surface clusters  

### Characteristics:

- Cartesian coordinates  
- No inherent periodicity  
- Residue/chain labels  

### When used in materials:

- MOFs  
- 2D nanosheets  
- Polymer crystals  
- Catalytic clusters  

### Limitations:

- Poor fit for periodic solids  
- Must define unit cell separately  

---

## 3. How Databases Store Structures

### Materials Project
- Uses symmetry-standardized structures (pymatgen + spglib)  
- Downloadable CIF + POSCAR  
- Provides energies, band structures, elastic tensors, etc.  

### OQMD
- Stores POSCAR-like files  
- Focus on formation energies and stability  

### AFLOW
- Provides CIF and AFLOW-specific formats  
- Strong emphasis on symmetry and prototypes  

### NOMAD
- Stores raw DFT inputs & outputs  
- Very rich metadata  
- Requires post-processing to extract clean structures  

---

## Database Conventions

All major databases converge on:
- Lattice vectors  
- Fractional coordinates  
- Unique atomic ordering  
- Standardized symmetry  

Before computing descriptors:
**Structures must be standardized.**

---

## 4. Thermodynamic Quantities

### Total Energy

Raw DFT quantity  
Not directly useful for comparing different materials.

---

## Formation Energy

\[
E_f = E_{\text{compound}} - \sum_i x_i \mu_i
\]

Where:
- \(E_{\text{compound}}\): energy per atom  
- \(x_i\): atomic fraction  
- \(\mu_i\): reference energies of elemental phases  

### Interpretation:
- Negative → favorable formation  
- Positive → unstable relative to elements  

Formation energy is the central thermodynamic quantity in all databases.

---

## Energy Above Hull

\[
E_{\text{above hull}} = E_f(\text{material}) - E_f(\text{stable phases})
\]

Interpretation:
- 0 eV/atom → thermodynamically stable  
- < 50 meV/atom → metastable but often synthesizable  
- > 100 meV/atom → typically unstable  

The hull metric captures *competition between phases*.

---

## Decomposition Pathways

Databases compute:

- Which phases a material decomposes into  
- Energy released/required  
- Distance to hull  
- Relative stability of competing polymorphs  

Used for:

- Screening stable materials  
- Understanding synthesizability  
- Phase diagram construction  

---

## 5. The Convex Hull

### What the Hull Represents

The hull is the **lower envelope** of formation energies across composition space.

It answers:
- Which phases are stable?  
- Which mixtures are stable alternatives?  
- How far a structure is from stability?  

---

## Constructing the Hull (Conceptually)

Steps:
1. Collect formation energies of all phases in a chemical system  
2. Plot energy vs composition  
3. Compute the convex hull  
4. Assign each phase a distance above hull  

No code shown — conceptual only.

---

## Why the Hull Matters in Materials Genomics

- Filters millions of DFT structures  
- Guides synthesis targets  
- Provides stability classifications  
- Basis for ML models predicting stability  
- Helps identify metastable materials  

---

## Typical Stability Ranges

- **0–20 meV/atom** → readily synthesizable  
- **20–50 meV/atom** → metastable; synthesizable under specific conditions  
- **>100 meV/atom** → unlikely to exist  

Databases filter candidate materials using these thresholds.

---

## 6. Summary

**Today you learned:**

- Structure formats (CIF, POSCAR, PDB-like)  
- How major databases store and standardize structures  
- Formation energy as key thermodynamic metric  
- Energy above hull and decomposition pathways  
- Convex hull as the central stability tool in materials genomics  

Next week:  
**Week 4 — Structure Descriptors & Materials Featurization**

---

## Questions?

Use the chalkboard!



<div>
<script>
document.getElementById("marimo-frame").onload = function() {
    try {
        let iframeDoc = document.getElementById("marimo-frame").contentWindow.document;
        let marimoBadge = iframeDoc.querySelector("div.fixed.bottom-0.right-0.z-50");
        if (marimoBadge) {
            marimoBadge.style.display = "none";
            console.log("Marimo badge hidden successfully.");
        } else {
            console.log("Badge not found.");
        }
    } catch (error) {
        console.warn("Unable to modify iframe content due to CORS restrictions.");
    }
};
</script>
</div>